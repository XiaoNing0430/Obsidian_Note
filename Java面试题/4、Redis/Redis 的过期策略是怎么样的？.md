
Redis的过期策略采用的是定期删除 和 惰性删除结合的方式
- **定期删除**：Redis 默认是每隔 100ms 就随机抽取一些设置了过期时间的 key，并检查其是否过期，如果过期就删除。定期删除是 Redis 的主动删除策略，可以确保过期的 key 能够及时被删除，但是会占用 CPU 资源去扫描 key，可能会影响 Redis 的性能

- **惰性删除**：当一个 key 过期时，不会立即从内存中删除，而是在访问这个key的时候才会触发删除操作。惰性删除是 Redis 的被动删除策略，可以节省 CPU 资源，但是会导致过期的 key 始终保存在内存中，占用内存空间

**Redis 默认同时开启定期删除和惰性删除两种过期策略**

需要注意的是，即使 Redis 进行了内存回收操作，也不能完全保证被删除的内存空间会立即被系统回收

一般来说，这些被删除的内存空间会被操作系统标记为 “可重用的内存”，等待被冲洗分配。因此，即使 Redis 进行了内存回收操作，也并不能保证 Redis 所占用的内存空间会立即释放给操作系统