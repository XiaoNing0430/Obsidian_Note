
为了保证 Redis 和 数据库的数据一致性，肯定要缓存和数据库双写了。

延迟双删：
1. 删除缓存
2. 更新数据库
3. 再次删除缓存

即先删除缓存，再更新数据库，然后过个几秒再删一次缓存，避免因为并发出现脏数据。

一般为了提升稳定性，降低对代码的侵入性，还可以考虑吧缓存的删除（更新）做成异步化，通过 MQ 或者监听数据库 bin log 的方式处理