
CAS 算法的一个重要前提需要取出内存中某个时刻的数据，而在下时刻比较并替换，那么在这个时间差内会导致数据的变化。

比如：线程1从内存位置 V 中取出 A ，这时候另一个线程2 也从内存中取出 A，并且线程2 进行了一些操作将内存位置 V 的数据变成了 B，然后线程2又将 V 位置的数据变成了 A。这时候线程1 进行CAS操作发现内存中仍然是 A，然后线程1操作成功。

尽管线程1的CAS操作成功，但是不代表这个过程是没有问题的。 